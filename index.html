<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocBook - Beauty & Wellness Booking</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="app.js"></script>
</head>
<body>
    <!-- Dev Toolbar -->
    <div id="dev-toolbar">
        <span>ðŸš§ Dev Mode:</span>
        <button onclick="switchDashboard('customer')" class="dev-btn active">Customer</button>
        <button onclick="switchDashboard('owner')" class="dev-btn">Owner</button>
        <button onclick="switchDashboard('admin')" class="dev-btn">Admin</button>
        <button id="seed-btn" class="dev-btn" style="background: #ef4444;">Seed DB</button>
    </div>

    <header>
        <div class="container">
            <div class="logo">DocBook âœ¨</div>
            <nav>
                <a href="#home" class="nav-link">Home</a>
                <a href="#explore" class="nav-link">Explore</a>
                <button id="login-btn" class="btn-outline">Login</button>
                <div id="user-profile" style="display: none;">
                    <span id="user-name"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- CUSTOMER DASHBOARD -->
    <main id="dashboard-customer">
        <section id="home" class="hero">
            <div class="container">
                <h1>Discover Beauty & Wellness</h1>
                <p>Book appointments at the best salons and spas in your city.</p>
                <div class="search-bar">
                    <input type="text" placeholder="Search for services (e.g. Haircut, Botox)...">
                    <button class="btn-primary">Search</button>
                </div>
            </div>
        </section>

        <section id="explore" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>Top Rated Venues</h2>
                    <div class="filters">
                        <button class="filter-chip active" data-type="all">All</button>
                        <button class="filter-chip" data-type="salon">Salons</button>
                        <button class="filter-chip" data-type="beauty_center">Beauty Centers</button>
                    </div>
                </div>

                <div id="merchants-grid" class="grid">
                    <!-- Merchants loaded via JS -->
                    <div class="loading-spinner">Loading...</div>
                </div>
            </div>
        </section>
    </main>

    <!-- OWNER DASHBOARD -->
    <main id="dashboard-owner" style="display: none;">
        <div class="container">
            <div class="dashboard-header">
                <h1>Owner Dashboard</h1>
                <button class="btn-primary">+ Add Booking</button>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Today's Bookings</h3>
                    <p class="stat-num">8</p>
                </div>
                <div class="stat-card">
                    <h3>Revenue</h3>
                    <p class="stat-num">$450</p>
                </div>
            </div>
            <div class="appointments-list">
                <h3>Upcoming Appointments</h3>
                <!-- Placeholder -->
                <div class="empty-state">No upcoming appointments.</div>
            </div>
        </div>
    </main>

    <!-- ADMIN DASHBOARD -->
    <main id="dashboard-admin" style="display: none;">
        <div class="container">
            <h1>Admin Dashboard</h1>
            <p>Manage Users and Merchants</p>
            <!-- Admin content -->
        </div>
    </main>

    <!-- AUTH MODAL -->
    <div id="auth-modal" class="modal">
        <div class="modal-content auth-box">
            <span class="close">&times;</span>
            <h2>Welcome to DocBook</h2>
            <p>Sign in or create an account</p>
            
            <form id="auth-form-step-1">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="auth-name" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" id="auth-phone" placeholder="+964 750 ..." required>
                </div>
                <div id="recaptcha-container"></div>
                <button type="submit" class="btn-primary full-width">Send Code</button>
            </form>

            <form id="auth-form-step-2" style="display: none;">
                <div class="form-group">
                    <label>Verification Code</label>
                    <input type="text" id="auth-code" placeholder="123456" required>
                </div>
                <button type="submit" class="btn-primary full-width">Verify</button>
                <button type="button" id="back-step-1" class="btn-link">Back</button>
            </form>
        </div>
    </div>

    <!-- BOOKING MODAL -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <span class="close-booking">&times;</span>
            <div id="booking-modal-body"></div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2026 DocBook. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
